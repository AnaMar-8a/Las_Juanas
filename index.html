<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentación Interactiva: Abecedario Político</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 
        PROYECTO: Abecedario Político Interactivo - Escuela Las Juanas
        VERSIÓN: 2.1 (Final para Repositorio con mejoras de comunidad)
        FECHA: 19 de Septiembre, 2025
        DESCRIPCIÓN: Versión final optimizada, con código comentado, responsividad corregida, animación de rizoma progresiva y botón de comunidad en el lateral derecho.
    -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Domine:wght@700&family=Inter:wght@400;600&display=swap');
        
        body {
            background-color: #1f1d2b;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
        }

        #presentation-container {
            width: 100%;
            height: 100vh; 
            max-width: 100%;
            display: flex;
            flex-direction: column; 
            overflow: hidden;
            position: relative;
        }

        @media (min-width: 1024px) { 
            #presentation-container {
                flex-direction: row;
                max-width: 1280px;
                aspect-ratio: 16 / 9;
                height: auto;
                border-radius: 0.5rem;
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            }
        }

        #bg-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background-color: #fbf9f6; 
        }

        nav, main {
            position: relative;
            z-index: 1;
        }

        h1, h2, h3, h4, .font-title {
            font-family: 'Domine', serif;
        }

        .content-slide { animation: fadeIn 0.8s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .nav-link.active {
            background-color: #8b5cf6;
            color: white;
        }
        
        #modal-overlay { transition: opacity 0.3s ease; }
        #modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
        
        .pulse { animation: pulse 2.5s infinite cubic-bezier(0.4, 0, 0.6, 1); }
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); }
        }

        .creator-link {
            font-weight: 600;
            text-decoration: none;
            color: #374151;
            transition: all 0.3s ease;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
        }
        .creator-link:hover {
            color: #6D28D9;
            background: rgba(109, 40, 217, 0.08);
            box-shadow: 0 2px 6px rgba(109,40,217,0.2);
        }
        
        #mobile-nav-scroll {
            scrollbar-width: none; 
        }
        #mobile-nav-scroll::-webkit-scrollbar {
            display: none; 
        }

    </style>
</head>
<body>

    <div id="presentation-container">
        <canvas id="bg-canvas"></canvas>
        
        <nav class="w-24 bg-white/20 backdrop-blur-sm p-4 hidden lg:flex flex-col items-center space-y-2 overflow-y-auto">
            <div id="home-button-desktop" class="w-14 h-14 flex items-center justify-center rounded-2xl cursor-pointer hover:bg-white/50 transition-all duration-200" title="Volver al abrazo">
                 <span class="text-3xl">🏠</span>
            </div>
            <div id="alphabet-nav-desktop" class="flex flex-col items-center space-y-1 w-full">
            </div>
        </nav>
        
        <div class="flex-1 flex flex-col overflow-hidden">
            <nav class="lg:hidden w-full bg-white/20 backdrop-blur-sm p-2 flex items-center space-x-2">
                <div id="home-button-mobile" class="w-12 h-12 flex-shrink-0 flex items-center justify-center rounded-2xl cursor-pointer hover:bg-white/50 transition-all duration-200">
                     <span class="text-3xl">🏠</span>
                </div>
                <div id="mobile-nav-scroll" class="flex items-center space-x-1 overflow-x-auto flex-grow">
                </div>
            </nav>

            <main id="main-content" class="flex-1 flex flex-col p-6 md:p-12 overflow-y-auto relative">
            </main>
        </div>
    </div>

    <div id="modal-overlay" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div id="modal-content" class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] overflow-y-auto p-8 transform scale-95 opacity-0">
        </div>
    </div>

    <!-- ===== BOTÓN FLOTANTE DE WHATSAPP ===== -->
    <!-- Este es el botón de comunidad. Puedes cambiar el número y el mensaje predeterminado. -->
    <a href="https://wa.me/573113262620?text=Hola%2C%20quisiera%20aportar%20al%20glosario%20vivo%20de%20Las%20Juanas" target="_blank" id="whatsapp-button" class="fixed top-1/2 -translate-y-1/2 right-4 lg:right-8 bg-green-500 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300 text-4xl z-20" title="¡Este es un elemento vivo! Escríbenos para co-crear, aportar o mejorar este glosario.">
        <span>💬</span>
    </a>


<script>
    document.addEventListener('DOMContentLoaded', function () {

        // =================================================================
        // --- 1. DATOS DEL GLOSARIO ---
        // =================================================================
        const glossaryData = [
             {
                letter: 'A',
                term: 'Abya Yala',
                definition: 'Es el nombre con el que el pueblo Guna ha nombrado desde siempre al continente que hoy conocemos como América. Significa "tierra en plena madurez" o "tierra de sangre vital". Utilizar "Abya Yala" es un acto de soberanía epistémica. Desafía directamente la narrativa colonial del "descubrimiento", que presenta a este continente como un territorio vacío, salvaje y sin historia, esperando ser "encontrado" por Europa.',
                practice: 'Cuando decimos "luchas desde Abya Yala", no solo ubicamos geográficamente nuestra acción. Estamos afirmando nuestra pertenencia a un proyecto continental de liberación que se nutre de las memorias y resistencias de los pueblos originarios, y que busca un futuro más allá del Estado-nación moderno impuesto.',
            },
            {
                letter: 'A',
                term: 'Acciones Afirmativas',
                definition: 'Son políticas y medidas temporales diseñadas para corregir las desigualdades históricas y estructurales que enfrentan ciertos grupos de la población (mujeres, pueblos indígenas, afrodescendientes, etc.). No son "privilegios", sino herramientas para nivelar el punto de partida.',
                practice: 'Implementar acciones afirmativas, como se mencionó en la sesión sobre curules feministas, es una característica clave de una agenda transformadora. Un ejemplo concreto son las "becas para personas trans y no binarias" logradas en Medellín, que buscan reparar una exclusión histórica del sistema educativo.',
            },
            {
                letter: 'A',
                term: 'Agenda Política Feminista',
                definition: 'Es el conjunto de objetivos, propuestas y reivindicaciones estratégicas que un movimiento o actor político feminista busca impulsar. No es una lista de "temas de mujeres", sino un proyecto integral para transformar la sociedad en su conjunto.',
                practice: 'La agenda política feminista se materializa en propuestas concretas como la creación de un Sistema de Cuidado, la lucha por la justicia ambiental, la defensa de los derechos sexuales y reproductivos o la asignación de presupuestos con perspectiva de género. Es la hoja de ruta que guía la incidencia política.',
            },
            {
                letter: 'A',
                term: 'Améfrica / Amefricanidad',
                definition: 'Un concepto político y geográfico acuñado por la visionaria intelectual afrobrasileña Lélia Gonzalez. Es una herramienta teórica para demoler el mito de la "democracia racial" y del "mestizaje" como proyectos de blanqueamiento y borramiento de la herencia africana.',
                practice: 'Cuando la ponente Tania Ramírez se enuncia como "amefricana del Sur", está reivindicando su lugar en una genealogía de lucha antirracista transnacional. Sitúa su feminismo en diálogo directo con el pensamiento de las mujeres negras del continente.',
            },
            {
                letter: 'A',
                term: 'Androcentrismo',
                definition: 'Es la visión del mundo que sitúa al hombre (varón) como el centro y la medida de todas las cosas. Lo masculino se convierte en la norma universal y lo femenino es considerado "lo otro", una desviación o una excepción.',
                practice: 'Cuestionar el androcentrismo significa preguntarnos activamente: ¿dónde están las mujeres en esta historia? ¿Esta política pública tiene en cuenta las necesidades específicas de las mujeres y disidencia? Es un ejercicio constante de descentrar la mirada masculina.',
            },
            {
                letter: 'B',
                term: 'Buen Vivir (Sumak Kawsay)',
                definition: 'Es un horizonte de vida y un paradigma civilizatorio que surge de las cosmovisiones indígenas de los Andes, que propone una vida en plenitud y armonía, no solo entre los seres humanos, sino con la totalidad de la existencia, con la Pachamama o Madre Tierra.',
                practice: 'El Buen Vivir nos inspira a construir economías que pongan el cuidado de la vida en el centro, a organizar nuestras comunidades de forma más horizontal y a luchar contra los proyectos extractivistas que destruyen el tejido de la vida. Es un horizonte político que nos permite imaginar futuros más allá del capitalismo.',
            },
            {
                letter: 'C',
                term: 'Cimarronaje',
                definition: 'Es el acto histórico y continuo de rebelión y fuga de las personas africanas esclavizadas, quienes crearon comunidades autónomas y libres llamadas palenques o quilombos. Es una filosofía política de la libertad.',
                practice: 'La organización de Wendy Pérez, "CIMARRONAS", evoca directamente esta herencia. Hoy, el cimarronaje se manifiesta en la defensa de los territorios colectivos y en la recuperación de saberes ancestrales como forma de sanación y resistencia política.',
            },
            {
                letter: 'C',
                term: 'Cisheteropatriarcado',
                definition: 'Describe el sistema de opresión en el que no solo domina lo masculino (patriarcado), sino que también se impone la heterosexualidad (hetero-) y la identidad cisgénero (cis-) como las únicas normas válidas y naturales.',
                practice: 'Luchar contra el cisheteropatriarcado, como se enuncia en el guion de la escuela, es ir más allá de la lucha por los derechos de las mujeres cisgénero. Implica defender el derecho a la identidad de las personas trans y combatir la homofobia y la transfobia.',
            },
            {
                letter: 'C',
                term: 'Cuerpo-Territorio',
                definition: 'Concepto central en los feminismos comunitarios que afirma la conexión inseparable entre nuestro cuerpo y la tierra que habitamos. El cuerpo es nuestro primer territorio de soberanía.',
                practice: 'Al proponer "protocolos de cuidado" en nuestras asambleas, estamos ejerciendo un acto político de defensa de nuestros cuerpos como territorios que merecen ser habitados con seguridad y respeto. Defender la soberanía sobre nuestros cuerpos es defender el territorio.',
            },
             {
                letter: 'C',
                term: 'Curul Feminista',
                definition: 'Es un espacio de representación política que es ocupado con el objetivo explícito de impulsar una agenda política feminista para transformar las estructuras de desigualdad. No es un simple asiento ocupado por una mujer; es un "territorio de disputa".',
                practice: 'Una curul feminista se caracteriza por la representation sustantiva, la autonomía política, la promoción de acciones afirmativas y la valentía para defender posturas impopulares pero necesarias. Las victorias tangibles, como la creación de un Sistema de Cuidado en Medellín, son el resultado de la incidencia desde estas curules.',
            },
            {
                letter: 'D',
                term: 'Despatriarcalización',
                definition: 'Es un proceso político radical que busca desmontar el patriarcado, entendido como un sistema de organización social jerárquico que fue impuesto y reconfigurado por el colonialismo. Es necesariamente una lucha antirracista y anticapitalista.',
                practice: 'El trabajo que lidera Wendy Pérez en Bolivia es un ejemplo. No se trata solo de crear leyes contra la violencia de género, sino de transformar las estructuras del Estado y de la sociedad para que se basen en principios de complementariedad y reciprocidad.',
            },
            {
                letter: 'E',
                term: 'Economía del Cuidado',
                definition: 'Se refiere a todo el trabajo, mayoritariamente no remunerado e invisibilizado, que se realiza para sostener la vida y el bienestar de las personas. La economía feminista busca visibilizar, valorar y redistribuir este trabajo.',
                practice: 'Luchar por sistemas públicos de cuidado (guarderías, centros de día para mayores), exigir que el trabajo doméstico sea remunerado y valorado, y redistribuir las tareas del hogar de forma equitativa son formas de politizar la economía del cuidado y construir "economías para la vida".',
            },
            {
                letter: 'E',
                term: 'Escri-vivencia (Escrevivência)',
                definition: 'Un concepto creado por Conceição Evaristo para describir una forma de escritura que nace de la experiencia vivida, colectiva y cotidiana de las mujeres negras. No es una escritura "sobre" la vida, sino que es la vida misma haciéndose texto.',
                practice: 'La propuesta de la presentación de usar la "Escri-vivencia" como herramienta es una invitación a documentar nuestros procesos no desde una mirada externa y "objetiva", sino desde nuestras propias voces y cuerpos.',
            },
            {
                letter: 'F',
                term: 'Feminismo(s)',
                definition: 'Es un conjunto de movimientos políticos, sociales y teorías que tienen como objetivo común la liberación de las mujeres y la erradicación de todas las formas de opresión generadas por el patriarcado. Se habla en plural para reconocer la diversidad de corrientes (negro, indígena, comunitario, etc.).',
                practice: 'Ser parte de Las Juanas es hacer feminismo. Es un movimiento que busca no solo la igualdad ante la ley, sino la transformación radical de todas las estructuras de poder que nos oprimen.',
            },
            {
                letter: 'G',
                term: 'Género',
                definition: 'Es la construcción social y cultural que se asigna a las personas a partir de su sexo biológico. No es algo natural, sino un conjunto de ideas, roles y expectativas que una sociedad impone sobre lo que significa "ser hombre" o "ser mujer".',
                practice: 'Cuestionar los roles de género es desobedecer los mandatos del patriarcado. Es validar que no hay una única forma de ser mujer, es luchar por el reconocimiento de todas las identidades de género.',
            },
            {
                letter: 'H',
                term: 'Hegemonía',
                definition: 'Es el liderazgo o dominio de un grupo social sobre otros, basado no solo en la fuerza, sino en la capacidad de presentar sus intereses como si fueran los de toda la sociedad, como "sentido común".',
                practice: 'La lucha feminista y decolonial es una lucha contra-hegemónica. Buscamos romper ese falso "sentido común" para demostrar que existen otros saberes y otras formas de organizar la vida. Cada vez que hablamos de "feminismos" en plural, estamos desafiando la hegemonía de un único feminismo.',
            },
            {
                letter: 'I',
                term: 'Incidencia',
                definition: 'Es la capacidad de influir y generar cambios concretos en las decisiones políticas, las políticas públicas, los presupuestos y las narrativas sociales. Es el proceso de traducir la presencia y la voz política en resultados tangibles.',
                practice: 'La incidencia se logra a través de debates de control político, la presentación de proyectos de ley y la fiscalización de los recursos públicos para garantizar que lleguen a las mujeres y comunidades históricamente excluidas.',
            },
            {
                letter: 'I',
                term: 'Interseccionalidad',
                definition: 'Herramienta analítica propuesta por Kimberlé Crenshaw para comprender cómo las diferentes estructuras de poder (racismo, patriarcado, etc.) se cruzan e interactúan, produciendo experiencias de opresión específicas y agravadas.',
                practice: 'Cuando diseñamos una política, el enfoque interseccional nos obliga a situarnos en las encrucijadas de la opresión y a preguntarnos: ¿cómo afecta esto a una mujer indígena desplazada y con discapacidad? Nos exige construir políticas desde los márgenes.',
            },
            {
                letter: 'J',
                term: 'Justicia Lingüística',
                definition: 'Es un principio político que reconoce que todas las lenguas y formas de comunicación tienen el mismo valor, buscando garantizar que todas las personas puedan expresarse y comprender en su propia lengua.',
                practice: 'Un protocolo de cuidado en un encuentro debe incluir la justicia lingüística. Esto significa tener intérpretes para lenguas originarias, pero también valorar los diferentes acentos y dialectos, entendiendo que la lengua es también un territorio de identidad y resistencia.',
            },
            {
                letter: 'N',
                term: 'Necropolítica',
                definition: 'Concepto de Achille Mbembe para describir cómo el poder soberano opera decidiendo quién debe vivir y quién debe morir, exponiendo a ciertas poblaciones a una precariedad extrema, a una muerte lenta o a una eliminación directa.',
                practice: 'Vemos la necropolítica en las fronteras, en los territorios contaminados por extractivismo, en la violencia feminicida y en la brutalidad policial. Es una herramienta para analizar cómo operan las "formas contemporáneas de subyugación de la vida al poder de la muerte".',
            },
            {
                letter: 'P',
                term: 'Patriarcado',
                definition: 'Es un sistema de dominación social, político y cultural en el que los hombres (lo masculino) ostentan el poder y los privilegios. No es la "suma de hombres malos", sino una estructura profunda que organiza toda la sociedad.',
                practice: 'Nos enfrentamos al patriarcado cuando luchamos contra la violencia machista, cuando exigimos igual salario por igual trabajo, y cuando construimos formas de organización que no se basan en la jerarquía y la competencia.',
            },
            {
                letter: 'P',
                term: 'Perspectiva de Género',
                definition: 'Es una herramienta analítica que nos permite observar y comprender las desigualdades, roles y violencias que existen entre hombres, mujeres y otras identidades. Es como ponerse unas gafas para ver cómo el género impacta todos los aspectos de la vida.',
                practice: 'Aplicar la perspectiva de género en una política pública significa analizar cómo afectará de manera diferenciada a hombres y a mujeres. En una organización, significa revisar si nuestras prácticas internas reproducen roles de género.',
            },
            {
                letter: 'P',
                term: 'Poder (Concepción Feminista)',
                definition: 'Es una redefinición radical del poder. Desafía el "poder sobre" (dominación) para proponer formas de "poder para" (capacidad de transformar) y "poder con" (construcción de fuerza colectiva).',
                practice: 'Construir "poder con" significa tomar decisiones de forma más democrática y horizontal. Pasar del "poder sobre" al "poder para" se traduce en usar una curul no para el beneficio personal, sino para impulsar una agenda que mejore la vida de la comunidad.',
            },
            {
                letter: 'P',
                term: 'Poder Popular',
                definition: 'Es la capacidad política que construyen las comunidades desde la base para gobernar sus vidas y territorios de forma autónoma, sin depender de las estructuras del Estado o del capital.',
                practice: 'Una asamblea comunitaria que decide de forma vinculante cómo gestionar sus recursos hídricos es Poder Popular. El gran desafío es "despatriarcalizar" los espacios de base para que no reproduzcan las mismas lógicas de poder que buscamos derribar.',
            },
            {
                letter: 'P',
                term: 'Punitivismo',
                definition: 'Se refiere a la tendencia a creer que la única solución a los problemas sociales, especialmente la violencia de género, es a través del castigo y la expansión del sistema penal. Desde una perspectiva feminista decolonial y antirracista, el punitivismo es una trampa.',
                practice: 'Como se mencionó en la sesión sobre los retos de las curules feministas, es clave "evitar la lógica punitiva". Esto implica buscar alternativas como la justicia restaurativa, invertir en prevención, educación y autonomía económica para las mujeres.',
            },
            {
                letter: 'R',
                term: 'Representación Sustantiva',
                definition: 'Es un tipo de representación política que va más allá de la simple presencia numérica. Implica que las personas electas actúen en favor de los intereses y las agendas del grupo al que representan. Se trata de pasar "de la cifra a la incidencia".',
                practice: 'Una curul feminista busca la representación sustantiva. No se limita a "ser la voz de las mujeres", sino que traduce las demandas de los movimientos feministas en leyes, políticas públicas y presupuestos concretos.',
            },
            {
                letter: 'R',
                term: 'Rizoma',
                definition: 'Concepto filosófico que describe una forma de organización que no tiene centro ni jerarquía, sino que se expande en red, como las raíces del jengibre. Es flexible, adaptable y resistente.',
                practice: 'El movimiento #NiUnaMenos funciona de forma rizomática. No hay una única sede ni una presidenta, sino miles de nodos autónomos que comparten principios y se activan coordinadamente. "La comunidad es el currículo" y la red evoluciona constantemente.',
            },
            {
                letter: 'S',
                term: 'Sistema de Cuidado',
                definition: 'Es la materialización de la "Economía del Cuidado" a través de políticas públicas. Se trata de un conjunto de programas y servicios organizados por el Estado para reconocer, reducir y redistribuir el trabajo de cuidado.',
                practice: 'La creación de un Sistema de Cuidado como programa estratégico en Medellín es una "victoria tangible" de la incidencia feminista. Este sistema puede incluir lavanderías comunitarias, comedores populares y espacios de cuidado infantil.',
            },
            {
                letter: 'S',
                term: 'Sororidad',
                definition: 'Es un pacto político y ético entre mujeres para apoyarse, reconocerse y luchar juntas contra el patriarcado. No es una "amistad ingenua", sino una alianza estratégica. Debe ser crítica e interseccional.',
                practice: 'La sororidad se activa cuando creemos y apoyamos a una mujer que denuncia una agresión, cuando visibilizamos el trabajo de otras compañeras y cuando somos capaces de nombrar y confrontar el racismo y el clasismo dentro de nuestros propios movimientos.',
            },
            {
                letter: 'S',
                term: 'Sur Global',
                definition: 'Término político para referirse a los países de África, América Latina, Asia y Oceanía que comparten una historia de colonialismo y ocupan una posición de desventaja en el sistema económico mundial. Es un posicionamiento político de resistencia.',
                practice: 'Definir nuestra política como emergente "desde el Sur Global" es conectar nuestras luchas locales a un movimiento planetario. Es valorar el conocimiento producido desde nuestras realidades y construir alianzas con otros pueblos que resisten al mismo sistema de opresión.',
            },
        ];

        // =================================================================
        // --- 2. CONFIGURACIÓN E INICIALIZACIÓN DE ELEMENTOS DEL DOM ---
        // =================================================================
        const alphabetNavDesktop = document.getElementById('alphabet-nav-desktop');
        const alphabetNavMobile = document.getElementById('mobile-nav-scroll');
        const mainContent = document.getElementById('main-content');
        const homeButtonDesktop = document.getElementById('home-button-desktop');
        const homeButtonMobile = document.getElementById('home-button-mobile');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalContent = document.getElementById('modal-content');
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        
        const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').filter(letter => 
            glossaryData.some(item => item.letter === letter)
        );

        // =================================================================
        // --- 3. RENDERIZADO DE VISTAS (DIAPOSITIVAS) ---
        // =================================================================
        
        function mostrarAbrazoInicial() {
            mainContent.innerHTML = `
                 <div class="content-slide h-full flex flex-col justify-between items-center text-center relative">
                    <!-- Banner -->
                    <div class="w-full bg-purple-100/50 text-purple-800 text-sm py-1 text-center absolute top-0 left-0">
                        Este Glosario hace parte de las herramientas generadas por la <strong>Escuela de Formación Política Feminista Las Juanas</strong>
                    </div>

                    <!-- Main Content -->
                    <div class="flex-grow flex flex-col justify-center pt-10">
                        <h3 class="text-2xl text-purple-700 font-semibold font-title">Palabras que nutren nuestro mundo</h3>
                        <h1 class="text-4xl md:text-6xl font-extrabold text-gray-800 mt-4 tracking-tighter font-title">Abecedario Político</h1>
                        <p class="text-base md:text-lg text-gray-600 max-w-3xl mx-auto mt-6 italic">"Nombrar es el primer paso para transformar."</p>
                        <p class="text-sm md:text-md text-gray-700 max-w-3xl mx-auto mt-2">Este glosario es una herramienta viva, una invitación a apropiarnos de los conceptos que nos permiten analizar nuestra realidad con una mirada crítica y, sobre todo, construir nuevos horizontes de posibilidad.</p>
                        <div class="mt-8 flex justify-center items-center gap-4">
                            <input id="search-input" type="text" placeholder="Buscar un término..." class="w-full max-w-xs p-2 rounded-full border-2 border-stone-300 bg-white/50 focus:border-purple-400 focus:ring-0 outline-none transition-colors">
                            <button id="random-term-btn" class="bg-green-500 text-white font-bold py-2 px-4 rounded-full shadow-lg hover:bg-green-600 transition-transform transform hover:scale-105">
                                Aleatorio
                            </button>
                        </div>
                    </div>

                    <!-- Co-creators -->
                    <div class="flex-shrink-0 w-full pt-4 mb-10 pb-2"> <!-- pb-2 = 8px -->
                         <h4 class="font-bold text-gray-700 mb-3 font-title">Co-creación de la escuela:</h4>
                        <div class="flex flex-wrap gap-x-6 gap-y-2 justify-center text-sm">
                            <a href="https://www.instagram.com/electas__/" target="_blank" class="creator-link">Movimiento Político Electas</a>
                            <a href="https://www.institutoupdate.org.br/es/" target="_blank" class="creator-link">Instituto Update</a>
                            <a href="#" class="creator-link" onclick="event.preventDefault();">Corporación Recuperando Identidad</a>
                        </div>
                    </div>

                    <!-- Footer -->
                    <footer class="w-full bg-purple-700 text-white text-center p-2 absolute bottom-0 left-0 text-xs">
                        Diseño por <a href="https://www.linkedin.com/in/8aanamaria/" target="_blank" class="font-bold underline hover:text-purple-200">AnaMar8a</a>
                    </footer>
                </div>
            `;
             document.getElementById('random-term-btn').addEventListener('click', mostrarTerminoAleatorio);
             document.getElementById('search-input').addEventListener('input', manejarBusqueda);
        }
        
        function renderizarListaDeTerminos(letter) {
            const terms = glossaryData.filter(item => item.letter === letter);
            const termButtons = terms.map(term => 
                `<button class="term-link block w-full text-left text-2xl md:text-3xl font-bold text-gray-700 p-3 md:p-4 rounded-xl hover:bg-white/60 transition-colors" data-term="${term.term}">${term.term}</button>`
            ).join('');

            mainContent.innerHTML = `
                <div class="content-slide">
                    <h2 class="text-6xl md:text-8xl font-extrabold text-purple-800/10 mb-8">${letter}</h2>
                    <div class="space-y-3">${termButtons}</div>
                </div>
            `;
            
            document.querySelectorAll('.term-link').forEach(button => {
                button.addEventListener('click', () => {
                    abrirCuidadoDeLaPalabra(button.dataset.term);
                });
            });
        }
        
        // =================================================================
        // --- 4. LÓGICA DEL MODAL (POP-UP) Y BÚSQUEDA ---
        // =================================================================

        function abrirCuidadoDeLaPalabra(termName) {
            const termData = glossaryData.find(item => item.term === termName);
            const contentHTML = `
                <button id="close-modal-inner" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 text-3xl font-bold" aria-label="Volver">&times;</button>
                <h2 class="text-3xl md:text-4xl font-extrabold font-title text-gray-800 mb-6">${termData.term}</h2>
                <div class="prose prose-lg max-w-none text-gray-700">
                    <p>${termData.definition}</p>
                    <div class="mt-6 p-4 rounded-xl bg-[#fbf9f6]">
                        <h4 class="font-bold text-gray-800">Ejemplo cotidiano:</h4>
                        <p class="italic">${termData.practice}</p>
                    </div>
                </div>
            `;
            modalContent.innerHTML = contentHTML;
            
            modalOverlay.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95', 'opacity-0');

            document.getElementById('close-modal-inner').addEventListener('click', cerrarEspacioDeReflexion);
        }

        function cerrarEspacioDeReflexion() {
            modalOverlay.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95', 'opacity-0');
        }

        function mostrarTerminoAleatorio() {
            const randomIndex = Math.floor(Math.random() * glossaryData.length);
            const randomTerm = glossaryData[randomIndex];
            abrirCuidadoDeLaPalabra(randomTerm.term);
        }

        function manejarBusqueda(event) {
             const searchTerm = event.target.value.toLowerCase();
             
             let resultsContainer = document.getElementById('search-results-container');
             if (!resultsContainer) {
                 resultsContainer = document.createElement('div');
                 resultsContainer.id = 'search-results-container';
                 resultsContainer.className = 'absolute top-24 left-1/2 -translate-x-1/2 w-72 bg-white/90 backdrop-blur-sm shadow-lg rounded-xl p-2 z-20';
                 mainContent.appendChild(resultsContainer);
             }

             if (searchTerm.length < 2) {
                 resultsContainer.innerHTML = '';
                 return;
             }
             
             const filteredData = glossaryData.filter(item => item.term.toLowerCase().includes(searchTerm));
             const termButtons = filteredData.map(term => 
                `<button class="term-link block w-full text-left text-lg font-bold text-gray-700 p-2 rounded-lg hover:bg-white/60 transition-colors" data-term="${term.term}">${term.term}</button>`
             ).join('');
             
             resultsContainer.innerHTML = termButtons || `<p class="text-center text-sm text-stone-500 p-2">No se encontraron términos.</p>`;

             document.querySelectorAll('.term-link').forEach(button => {
                button.addEventListener('click', () => {
                    abrirCuidadoDeLaPalabra(button.dataset.term);
                    resultsContainer.innerHTML = '';
                    document.getElementById('search-input').value = '';
                });
            });
        }
        
        // =================================================================
        // --- 5. NAVEGACIÓN Y MANEJO DE EVENTOS ---
        // =================================================================
        
        function setupNav() {
            // Limpiar navegaciones previas
            alphabetNavDesktop.innerHTML = '';
            alphabetNavMobile.innerHTML = '';

            alphabet.forEach(letter => {
                // Crear link para escritorio
                const linkDesktop = document.createElement('a');
                linkDesktop.href = '#';
                linkDesktop.textContent = letter;
                linkDesktop.className = 'nav-link w-12 h-12 flex items-center justify-center rounded-xl font-bold text-purple-800 hover:bg-white/50 transition-all duration-200';
                linkDesktop.dataset.letter = letter;
                alphabetNavDesktop.appendChild(linkDesktop);
                
                // Crear link para móvil
                const linkMobile = document.createElement('a');
                linkMobile.href = '#';
                linkMobile.textContent = letter;
                linkMobile.className = 'nav-link h-10 w-10 flex-shrink-0 flex items-center justify-center rounded-lg font-bold text-purple-800 hover:bg-white/50 transition-all duration-200';
                linkMobile.dataset.letter = letter;
                alphabetNavMobile.appendChild(linkMobile);
                
                const handleNavClick = (e) => {
                    e.preventDefault();
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    linkDesktop.classList.add('active');
                    linkMobile.classList.add('active');
                    renderizarListaDeTerminos(letter);
                }

                linkDesktop.addEventListener('click', handleNavClick);
                linkMobile.addEventListener('click', handleNavClick);
            });
            
            const handleHomeClick = () => {
                 document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                 mostrarAbrazoInicial();
            }

            homeButtonDesktop.addEventListener('click', handleHomeClick);
            homeButtonMobile.addEventListener('click', handleHomeClick);
            
            modalOverlay.addEventListener('click', (e) => {
                if(e.target === modalOverlay) {
                    cerrarEspacioDeReflexion();
                }
            });
        }

        // =================================================================
        // --- 6. ANIMACIÓN DE FONDO (RIZOMA) ---
        // =================================================================
        let nodes = [];
        const colors = ['#a78bfa', '#c4b5fd', '#d946ef', '#ec4899'];
        const emphasisColor = '#9CA986'; 
        let startTime = null;

        function resizeCanvas() {
            const container = document.getElementById('presentation-container');
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }

        class Node {
            constructor(x, y) {
                this.x = x || Math.random() * canvas.width;
                this.y = y || Math.random() * canvas.height;
                this.vx = Math.random() * 0.1 - 0.05; // Movimiento lento
                this.vy = Math.random() * 0.1 - 0.05; // Movimiento lento
                this.radius = Math.random() * 1.5 + 1;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
                if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = emphasisColor;
                ctx.fill();
            }
        }
        
        function initRhizome() {
            nodes = [];
            for (let i = 0; i < 5; i++) { // Empezar con muy pocos nodos
                nodes.push(new Node());
            }
        }

        function animate() {
            if (!startTime) startTime = Date.now();
            const elapsedTime = Date.now() - startTime;
            const growthDuration = 20 * 60 * 1000; // 20 minutos
            const growthFactor = Math.min(elapsedTime / growthDuration, 1);

            ctx.fillStyle = 'rgba(251, 249, 246, 0.1)'; 
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const maxNodes = 5 + Math.floor(growthFactor * 45); // Crecer hasta 50 nodos
            if(nodes.length < maxNodes && Math.random() < 0.5){
                nodes.push(new Node());
            }

            const connectionDistance = 100 + growthFactor * 200; // Conexiones crecen hasta 300px

            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const dx = nodes[i].x - nodes[j].x;
                    const dy = nodes[i].y - nodes[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < connectionDistance) {
                        ctx.beginPath();
                        ctx.moveTo(nodes[i].x, nodes[i].y);
                        ctx.lineTo(nodes[j].x, nodes[j].y);
                        const alpha = 0.5 - distance / connectionDistance;
                        const colorIndex = Math.floor((i + j) / 5) % colors.length;
                        ctx.strokeStyle = `rgba(${parseInt(colors[colorIndex].slice(1,3),16)},${parseInt(colors[colorIndex].slice(3,5),16)},${parseInt(colors[colorIndex].slice(5,7),16)},${alpha})`;
                        ctx.lineWidth = 0.4;
                        ctx.stroke();
                    }
                }
            }
            
            nodes.forEach((node) => {
                node.update();
                node.draw();
            });

            requestAnimationFrame(animate);
        }
        
        // =================================================================
        // --- 7. EJECUCIÓN INICIAL ---
        // =================================================================
        
        resizeCanvas();
        initRhizome();
        animate();
        mostrarAbrazoInicial();
        setupNav();

        window.addEventListener('resize', () => {
            resizeCanvas();
            initRhizome();
        });
    });
</script>

</body>
</html>

